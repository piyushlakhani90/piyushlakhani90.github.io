"use strict";(self.webpackChunkciara_donnen=self.webpackChunkciara_donnen||[]).push([[239],{3239:function(e,l,t){t.r(l);var r=t(4942),a=t(885),s=t(1413),n=t(2791),o=t(8983),i=t(9513),c=t.n(i),d=(t(8639),t(7689)),m=t(1885),D=t.n(m),u=t(9085),x=(t(5462),t(2426)),h=t.n(x),p=t(184),v={sendReq:{orderDate:new Date,receivedDate:new Date,billNo:"",billAmount:"",netDays:""}},f=function(e,l){return(0,s.Z)((0,s.Z)({},e),l)};l.default=function(){var e=(0,n.useReducer)(f,v),l=(0,a.Z)(e,2),t=l[0],i=l[1],m=t.sendReq,x=(0,n.useRef)(new(D())),j=(0,n.useState)(),N=(0,a.Z)(j,2)[1],Y=(0,d.s0)(),g=window.location.pathname.split("/")[2];console.log("location.pathname",window.location.pathname.split("/")[2]),(0,n.useEffect)((function(){if(g){var e=JSON.parse(localStorage.getItem("record")).find((function(e){return e.id==g}));console.log("obj",e),e&&i((0,s.Z)((0,s.Z)({},t),{},{sendReq:{orderDate:h()(e.orderDate).toDate(),receivedDate:h()(e.receivedDate).toDate(),billNo:e.billNo,billAmount:e.billAmount,netDays:e.netDays}}))}}),[]);var y=function(e,l){i("startDate"===l?(0,s.Z)((0,s.Z)({},t),{},{sendReq:(0,s.Z)((0,s.Z)({},m),{},{orderDate:e})}):(0,s.Z)((0,s.Z)({},t),{},{sendReq:(0,s.Z)((0,s.Z)({},m),{},{receivedDate:e})}))},b=function(e){var l=e.target,a=l.name,n=l.value;i((0,s.Z)((0,s.Z)({},t),{},{sendReq:(0,s.Z)((0,s.Z)({},m),{},(0,r.Z)({},a,n))}))},C=function(e){var l=e.which;13===l||!1===e.shiftKey&&(8===l||18===l||37===l||39===l||46===l||l>=48&&l<=57)||e.preventDefault()};return(0,p.jsxs)("div",{className:"salesOrder",children:[(0,p.jsx)("h5",{style:{marginBottom:"20px"},children:"Add Bill Details"}),(0,p.jsx)(o.lx,{children:(0,p.jsxs)("div",{className:"sales_form ",children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,p.jsxs)("div",{className:"mb-3 datepicker",children:[(0,p.jsx)(o.L8,{htmlFor:"exampleFormControlInput1",children:"Bill Date "}),(0,p.jsxs)("div",{className:"d-flex flex-wrap",style:{position:"relative"},children:[(0,p.jsx)(c(),{name:"startDate",autoComplete:"off",minDate:new Date,selected:m.orderDate,selectsStart:!0,onChange:function(e){return y(e,"startDate")}}),(0,p.jsx)("span",{className:"date_icon",children:(0,p.jsx)("img",{src:"/img/date_icon.svg",alt:"start date"})})]}),(0,p.jsx)("span",{style:{color:"red"},children:x.current.message("bill date",m.orderDate,"required")})]})}),(0,p.jsxs)("div",{className:"mb-12 col-sm-12 col-md-6",children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)(o.L8,{htmlFor:"exampleFormControlInput1",children:"Bill No"}),(0,p.jsx)(o.jO,{type:"text",name:"billNo",id:"exampleFormControlInput1",placeholder:"Bill No",value:m.billNo,onChange:b,onKeyPress:C})]}),(0,p.jsx)("span",{style:{color:"red"},children:x.current.message("billNo",m.billNo,"required")})]})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,p.jsxs)("div",{className:"mb-3 datepicker",children:[(0,p.jsx)(o.L8,{htmlFor:"exampleFormControlInput1",children:"Received Date"}),(0,p.jsxs)("div",{className:"d-flex flex-wrap",style:{position:"relative"},children:[(0,p.jsx)(c(),{name:"receivedDate",autoComplete:"off",minDate:new Date,selected:m.receivedDate,selectsStart:!0,onChange:function(e){return y(e,"receivedDate")}}),(0,p.jsx)("span",{className:"date_icon",children:(0,p.jsx)("img",{src:"/img/date_icon.svg",alt:"start date"})})]}),(0,p.jsx)("span",{style:{color:"red"},children:x.current.message("receivedDate",m.receivedDate,"required")})]})}),(0,p.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)(o.L8,{htmlFor:"exampleFormControlInput1",children:"Bill Amount"}),(0,p.jsx)(o.jO,{type:"text",name:"billAmount",id:"exampleFormControlInput1",placeholder:"Bill Amount",value:m.billAmount,onChange:b,onKeyPress:C}),(0,p.jsx)("span",{style:{color:"red"},children:x.current.message("Bill Amount",m.billAmount,"required")})]})})]}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)(o.L8,{htmlFor:"exampleFormControlInput1",children:"Net Days"}),(0,p.jsx)(o.jO,{type:"text",name:"netDays",id:"exampleFormControlInput1",placeholder:"Net Days",value:m.netDays,onChange:b,onKeyPress:C}),(0,p.jsx)("span",{style:{color:"red"},children:x.current.message("Net Days",m.netDays,"required")})]})})})]})}),(0,p.jsxs)("div",{style:{textAlign:"center"},children:[(0,p.jsx)(o.u5,{color:"primary",style:{marginRight:"6px"},onClick:function(){if(x.current.allValid())if(console.log('moment(moment(sendReq.orderDate).format("DD.MM.YYYY"), "DD.MM.YYYY").',h()(h()(m.orderDate).format("DD.MM.YYYY"),"DD.MM.YYYY").diff(h()(h()(m.receivedDate).format("DD.MM.YYYY"),"DD.MM.YYYY"),"days")),m.netDays>h()(h()(m.receivedDate).format("DD.MM.YYYY"),"DD.MM.YYYY").diff(h()(h()(m.orderDate).format("DD.MM.YYYY"),"DD.MM.YYYY"),"days"))u.Am.error("please enter valid net days",{position:u.Am.POSITION.TOP_RIGHT});else if(g){var e=JSON.parse(localStorage.getItem("record")),l=e.find((function(e){return e.id==g}));l.billNo=m.billNo,l.billAmount=m.billAmount,l.orderDate=m.orderDate,l.receivedDate=m.receivedDate,l.netDays=m.netDays,m.id=g,localStorage.setItem("record",JSON.stringify(e)),Y("/bill")}else{m.id=Date.now();var t=JSON.parse(localStorage.getItem("record"))?JSON.parse(localStorage.getItem("record")):[];t.push(m),localStorage.setItem("record",JSON.stringify(t)),Y("/bill")}else x.current.showMessages(!0),N(1)},children:"Save"}),(0,p.jsx)(o.u5,{color:"secondary",onClick:function(){Y("/bill")},children:"Cancel"})]}),(0,p.jsx)(u.Ix,{position:u.Am.POSITION.TOP_RIGHT,autoClose:8e3})]})}}}]);
//# sourceMappingURL=239.bb45a1b7.chunk.js.map