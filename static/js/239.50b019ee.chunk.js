"use strict";(self.webpackChunkciara_donnen=self.webpackChunkciara_donnen||[]).push([[239],{4627:function(e,n,a){a.d(n,{ki:function(){return p},ep:function(){return x},UQ:function(){return u},Zv:function(){return h}});var r=a(4569),t=a.n(r)().create(),s={validateStatus:function(e){if(401!==e)return!0}};function l(e){return e}function o(e){return e}t.defaults.headers.post["Content-Type"]="application/json",t.defaults.headers.post.Accept="application/json";var c=function(e){return t.get("https://market-area.herokuapp.com/",s).then(o,l)},i=function(e){return t.post("https://market-area.herokuapp.com/add",e,s).then(o,l)},d=function(e,n){return t.put("https://market-area.herokuapp.com/".concat(n),e,s).then(o,l)},m=function(e){return t.delete("https://market-area.herokuapp.com/".concat(e),s).then(o,l)};function u(e){return function(n){n({type:"LOADING",payload:!0}),c().then((function(a){n({type:"GET_DATA",payload:a.data}),e(a.data)})).catch((function(e){}))}}function p(e,n){return function(a){a({type:"LOADING",payload:!0}),i(e).then((function(e){a({type:"ADD_DATA",payload:e.data}),n(e.data)})).catch((function(e){}))}}function h(e,n,a){return function(r){r({type:"LOADING",payload:!0}),d(e,n).then((function(e){r({type:"UPDATE_DATA",payload:e.data}),a(e.data)})).catch((function(e){}))}}function x(e,n){return function(a){a({type:"LOADING",payload:!0}),m(e).then((function(e){a({type:"DELETE_DATA",payload:e.data}),n(e.data)})).catch((function(e){}))}}},3239:function(e,n,a){a.r(n);var r=a(4942),t=a(2982),s=a(885),l=a(1413),o=a(2791),c=a(8983),i=a(9513),d=a.n(i),m=(a(8639),a(7689)),u=a(1885),p=a.n(u),h=a(9085),x=(a(5462),a(2426)),j=a.n(x),f=a(6030),y=a(4627),v=a(7283),b=a(184),N={sendReq:{orderDate:new Date,receivedDate:new Date,billNo:"",billAmount:"",netDays:"",cname:"",bname:"",pname:"",address:""},optionArr:[],partyOption:[],brokerOption:[],addressOption:[]},C=function(e,n){return(0,l.Z)((0,l.Z)({},e),n)};n.default=function(){var e=(0,o.useReducer)(C,N),n=(0,s.Z)(e,2),a=n[0],i=n[1],u=a.sendReq,x=a.optionArr,D=a.partyOption,g=a.brokerOption,k=a.addressOption,A=(0,o.useRef)(new(p())),Z=(0,o.useState)(),I=(0,s.Z)(Z,2)[1],O=(0,m.s0)(),T=(0,f.I0)(),F=window.location.pathname.split("/")[2],w=(0,m.TH)().state,S=(0,o.useState)(!1),q=(0,s.Z)(S,2),P=q[0],Y=q[1],L=(0,o.useState)(!1),R=(0,s.Z)(L,2),_=R[0],M=R[1],B=(0,o.useState)(!1),G=(0,s.Z)(B,2),E=G[0],H=G[1],K=(0,o.useState)(!1),U=(0,s.Z)(K,2),Q=U[0],V=U[1],z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,t.Z)(new Map(e.map((function(e){return[n.map((function(n){return e[n]})).join("|"),e]}))).values())};(0,o.useEffect)((function(){(0,y.UQ)((function(e){var n=[],a=[],r=[],t=[];e.data.map((function(e,s){n.push({value:e.cname,label:e.cname}),a.push({value:e.pname,label:e.pname}),r.push({value:e.bname,label:e.bname}),t.push({value:e.address,label:e.address})})),i({optionArr:z(n,["value"]),partyOption:z(a,["value"]),brokerOption:z(r,["value"]),addressOption:z(t,["value"])})}))(T)}),[]),console.log("optionArr",x,D),(0,o.useEffect)((function(){F&&i((0,l.Z)((0,l.Z)({},a),{},{sendReq:{orderDate:j()(w.orderDate).toDate(),receivedDate:j()(w.receivedDate).toDate(),billNo:w.billNo,billAmount:w.billAmount,netDays:w.netDays,cname:w.cname,bname:w.bname,pname:w.pname,address:w.address}}))}),[]),console.log("sendReq",u);var J=function(e,n){i("startDate"===n?(0,l.Z)((0,l.Z)({},a),{},{sendReq:(0,l.Z)((0,l.Z)({},u),{},{orderDate:e})}):(0,l.Z)((0,l.Z)({},a),{},{sendReq:(0,l.Z)((0,l.Z)({},u),{},{receivedDate:e})}))},W=function(e){var n=e.target,t=n.name,s=n.value;console.log("name,value",t,s),i((0,l.Z)((0,l.Z)({},a),{},{sendReq:(0,l.Z)((0,l.Z)({},u),{},(0,r.Z)({},t,s))}))},X=function(e,n){console.log("e",e),i((0,l.Z)((0,l.Z)({},a),{},{sendReq:(0,l.Z)((0,l.Z)({},u),{},(0,r.Z)({},n,e.value))}))},$=function(e){var n=e.which;13===n||!1===e.shiftKey&&(8===n||18===n||37===n||39===n||46===n||n>=48&&n<=57)||e.preventDefault()};return(0,b.jsxs)("div",{className:"salesOrder",children:[(0,b.jsx)("h5",{style:{marginBottom:"20px"},children:"Add Bill Details"}),(0,b.jsx)(c.lx,{children:(0,b.jsxs)("div",{className:"sales_form ",children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"mb-12 col-sm-12 col-md-6",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{className:"mb-3 col-sm-12 col-md-10",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"Company Name"}),(0,b.jsx)(v.ZP,{name:"cname",value:u.cname&&x.find((function(e){return e.value===u.cname})),components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},options:x,onChange:function(e){return X(e,"cname")},placeholder:"Search..."}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("company name",u.cname,"required")})]}),(0,b.jsx)(c.u5,{color:"primary",style:{height:"40px"},className:"mt-3 ml-1",onClick:function(){Y(!0)},children:"+"})]}),(0,b.jsxs)("div",{className:"mb-12 col-sm-12 col-md-6",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{className:"mb-3 col-sm-12 col-md-10",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"Party Name"}),(0,b.jsx)(v.ZP,{name:"pname",value:u.pname&&D.find((function(e){return e.value===u.pname})),components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},options:D,onChange:function(e){return X(e,"pname")},placeholder:"Search..."}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("party name",u.pname,"required")})]}),(0,b.jsx)(c.u5,{color:"primary",style:{height:"40px"},className:"mt-3 ml-1",onClick:function(){M(!0)},children:"+"})]})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"mb-12 col-sm-12 col-md-6",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{className:"mb-3 col-sm-12 col-md-10",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"Broker Name"}),(0,b.jsx)(v.ZP,{name:"bname",value:u.bname&&g.find((function(e){return e.value===u.bname})),components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},options:g,onChange:function(e){return X(e,"bname")},placeholder:"Search..."}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("broker name",u.bname,"required")})]}),(0,b.jsx)(c.u5,{color:"primary",style:{height:"40px"},className:"mt-3 ml-1",onClick:function(){H(!0)},children:"+"})]}),(0,b.jsxs)("div",{className:"mb-12 col-sm-12 col-md-6",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{className:"mb-3 col-sm-12 col-md-10",children:[(0,b.jsxs)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:[" ","Address"," "]}),(0,b.jsx)(v.ZP,{name:"address",value:u.address&&k.find((function(e){return e.value===u.address})),components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},options:k,onChange:function(e){return X(e,"address")},placeholder:"Search..."}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("address",u.address,"required")})]}),(0,b.jsx)(c.u5,{color:"primary",style:{height:"40px"},className:"mt-3 ml-1",onClick:function(){V(!0)},children:"+"})]})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,b.jsxs)("div",{className:"mb-3 datepicker",children:[(0,b.jsxs)(c.L8,{htmlFor:"exampleFormControlInput1",children:["Bill Date"," "]}),(0,b.jsxs)("div",{className:"d-flex flex-wrap",style:{position:"relative"},children:[(0,b.jsx)(d(),{name:"startDate",autoComplete:"off",dateFormat:"dd/MM/yyyy",selected:u.orderDate,selectsStart:!0,onChange:function(e){return J(e,"startDate")}}),(0,b.jsx)("span",{className:"date_icon",children:(0,b.jsx)("img",{src:"/img/date_icon.svg",alt:"start date"})})]}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("bill date",u.orderDate,"required")})]})}),(0,b.jsxs)("div",{className:"mb-12 col-sm-12 col-md-6",children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlInput1",children:"Bill No"}),(0,b.jsx)(c.jO,{type:"text",name:"billNo",id:"exampleFormControlInput1",placeholder:"Bill No",value:u.billNo,onChange:W,onKeyPress:$})]}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("billNo",u.billNo,"required")})]})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,b.jsxs)("div",{className:"mb-3 datepicker",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlInput1",children:"Received Date"}),(0,b.jsxs)("div",{className:"d-flex flex-wrap",style:{position:"relative"},children:[(0,b.jsx)(d(),{name:"receivedDate",autoComplete:"off",dateFormat:"dd/MM/yyyy",selected:u.receivedDate,selectsStart:!0,onChange:function(e){return J(e,"receivedDate")}}),(0,b.jsx)("span",{className:"date_icon",children:(0,b.jsx)("img",{src:"/img/date_icon.svg",alt:"start date"})})]}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("receivedDate",u.receivedDate,"required")})]})}),(0,b.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlInput1",children:"Bill Amount"}),(0,b.jsx)(c.jO,{type:"text",name:"billAmount",id:"exampleFormControlInput1",placeholder:"Bill Amount",value:u.billAmount,onChange:W,onKeyPress:$}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("Bill Amount",u.billAmount,"required")})]})})]}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"mb-12 col-sm-12 col-md-6",children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlInput1",children:"Net Days"}),(0,b.jsx)(c.jO,{type:"text",name:"netDays",id:"exampleFormControlInput1",placeholder:"Net Days",value:u.netDays,onChange:W,onKeyPress:$}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("Net Days",u.netDays,"required")})]})})})]})}),(0,b.jsxs)("div",{style:{textAlign:"center"},children:[(0,b.jsx)(c.u5,{color:"primary",style:{marginRight:"6px"},onClick:function(){A.current.allValid()?u.netDays>j()(j()(u.receivedDate).format("DD.MM.YYYY"),"DD.MM.YYYY").diff(j()(j()(u.orderDate).format("DD.MM.YYYY"),"DD.MM.YYYY"),"days")?h.Am.error("please enter valid net days",{position:h.Am.POSITION.TOP_RIGHT}):F?(0,y.Zv)(u,F,(function(e){e.message?O("/bill"):h.Am.error(e.message,{position:h.Am.POSITION.TOP_RIGHT})}))(T):(0,y.ki)(u,(function(e){e.data?O("/bill"):h.Am.error(e.message,{position:h.Am.POSITION.TOP_RIGHT})}))(T):(A.current.showMessages(!0),I(1))},children:"Save"}),(0,b.jsx)(c.u5,{color:"secondary",onClick:function(){O("/bill")},children:"Cancel"})]}),(0,b.jsx)(h.Ix,{position:h.Am.POSITION.TOP_RIGHT,autoClose:8e3}),(0,b.jsxs)(c.Tk,{visible:P,onClose:function(){return Y(!1)},children:[(0,b.jsx)(c.sD,{children:(0,b.jsx)(c.lx,{children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"Company Name"}),(0,b.jsx)(c.jO,{type:"text",name:"cname",value:u.cname,placeholder:"Company Name",onChange:W}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("company",u.cname,"required")})]})})}),(0,b.jsxs)(c.Ym,{children:[(0,b.jsx)(c.u5,{color:"secondary",onClick:function(){return Y(!1)},children:"Cancel"}),(0,b.jsx)(c.u5,{color:"primary",onClick:function(){Y(!1),i({optionArr:[].concat((0,t.Z)(x),[{value:u.cname,label:u.cname}])})},children:"Save"})]})]}),(0,b.jsxs)(c.Tk,{visible:_,onClose:function(){return M(!1)},children:[(0,b.jsx)(c.sD,{children:(0,b.jsx)(c.lx,{children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"Party Name"}),(0,b.jsx)(c.jO,{type:"text",name:"pname",value:u.pname,placeholder:"Party Name",onChange:W}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("company",u.pname,"required")})]})})}),(0,b.jsxs)(c.Ym,{children:[(0,b.jsx)(c.u5,{color:"secondary",onClick:function(){return M(!1)},children:"Cancel"}),(0,b.jsx)(c.u5,{color:"primary",onClick:function(){M(!1),i({partyOption:[].concat((0,t.Z)(D),[{value:u.pname,label:u.pname}])})},children:"Save"})]})]}),(0,b.jsxs)(c.Tk,{visible:E,onClose:function(){return H(!1)},children:[(0,b.jsx)(c.sD,{children:(0,b.jsx)(c.lx,{children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"broker Name"}),(0,b.jsx)(c.jO,{type:"text",name:"bname",value:u.bname,placeholder:"Broker Name",onChange:W}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("company",u.bname,"required")})]})})}),(0,b.jsxs)(c.Ym,{children:[(0,b.jsx)(c.u5,{color:"secondary",onClick:function(){return H(!1)},children:"Cancel"}),(0,b.jsx)(c.u5,{color:"primary",onClick:function(){H(!1),i({brokerOption:[].concat((0,t.Z)(g),[{value:u.bname,label:u.bname}])})},children:"Save"})]})]}),(0,b.jsxs)(c.Tk,{visible:Q,onClose:function(){return V(!1)},children:[(0,b.jsx)(c.sD,{children:(0,b.jsx)(c.lx,{children:(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)(c.L8,{htmlFor:"exampleFormControlTextarea1",children:"Company Name"}),(0,b.jsx)(c.PB,{name:"address",value:u.address,placeholder:"Address",rows:"3",onChange:W}),(0,b.jsx)("span",{style:{color:"red"},children:A.current.message("company",u.address,"required")})]})})}),(0,b.jsxs)(c.Ym,{children:[(0,b.jsx)(c.u5,{color:"secondary",onClick:function(){return V(!1)},children:"Cancel"}),(0,b.jsx)(c.u5,{color:"primary",onClick:function(){V(!1),i({addressOption:[].concat((0,t.Z)(k),[{value:u.address,label:u.address}])})},children:"Save"})]})]})]})}}}]);
//# sourceMappingURL=239.50b019ee.chunk.js.map